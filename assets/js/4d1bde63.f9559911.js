"use strict";(self.webpackChunkdjango_wiki=self.webpackChunkdjango_wiki||[]).push([[2381],{3905:(e,n,i)=>{i.d(n,{Zo:()=>m,kt:()=>k});var a=i(7294);function r(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function t(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(n){r(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function o(e,n){if(null==e)return{};var i,a,r=function(e,n){if(null==e)return{};var i,a,r={},t=Object.keys(e);for(a=0;a<t.length;a++)i=t[a],n.indexOf(i)>=0||(r[i]=e[i]);return r}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)i=t[a],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var d=a.createContext({}),s=function(e){var n=a.useContext(d),i=n;return e&&(i="function"==typeof e?e(n):l(l({},n),e)),i},m=function(e){var n=s(e.components);return a.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var i=e.components,r=e.mdxType,t=e.originalType,d=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),p=s(i),k=r,g=p["".concat(d,".").concat(k)]||p[k]||u[k]||t;return i?a.createElement(g,l(l({ref:n},m),{},{components:i})):a.createElement(g,l({ref:n},m))}));function k(e,n){var i=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var t=i.length,l=new Array(t);l[0]=p;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<t;s++)l[s]=i[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,i)}p.displayName="MDXCreateElement"},6579:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>s});var a=i(7462),r=(i(7294),i(3905));const t={sidebar_position:7,custom_edit_url:null,description:"S\u0131n\u0131f i\xe7ine g\xf6rsel ekleme ve g\xf6rsel kullanma metodlar\u0131"},l="G\xf6rsel Ekleme",o={unversionedId:"python/django/ilk-proje/gorselekle",id:"python/django/ilk-proje/gorselekle",title:"G\xf6rsel Ekleme",description:"S\u0131n\u0131f i\xe7ine g\xf6rsel ekleme ve g\xf6rsel kullanma metodlar\u0131",source:"@site/docs/python/django/ilk-proje/gorselekle.mdx",sourceDirName:"python/django/ilk-proje",slug:"/python/django/ilk-proje/gorselekle",permalink:"/django-wiki/docs/python/django/ilk-proje/gorselekle",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,custom_edit_url:null,description:"S\u0131n\u0131f i\xe7ine g\xf6rsel ekleme ve g\xf6rsel kullanma metodlar\u0131"},sidebar:"tutorialSidebar",previous:{title:"Verilerin \xd6n Y\xfczde G\xf6sterilmesi",permalink:"/django-wiki/docs/python/django/ilk-proje/ondegoster"},next:{title:"Alt Sayfa Olu\u015fturmak",permalink:"/django-wiki/docs/python/django/ilk-proje/altsayfa"}},d={},s=[],m={toc:s};function u(e){let{components:n,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,i,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"g\xf6rsel-ekleme"},"G\xf6rsel Ekleme"),(0,r.kt)("p",null,"Django bu k\u0131s\u0131mda asl\u0131nda bize \xe7ok say\u0131da kolayl\u0131k sa\u011flamakta. G\xf6rsellerimizi sisteme y\xfcklerken hangi dizine y\xfckleyece\u011fini ve dizi i\xe7indeki veride g\xf6rsel olmamas\u0131 durumunda hangi g\xf6rseli \xe7ekece\u011fini se\xe7ebiliriz. Bunun i\xe7in yapmam\u0131z gereken blog i\xe7indeki models.py dosyas\u0131na ImageField alan\u0131n\u0131 eklemek olacakt\u0131r."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="blog/models.py"',title:'"blog/models.py"'},'\nfrom django.db import models\n\nclass Post(models.Model):\n    title = models.CharField(max_length=155)\n    content = models.TextField(null=True)\n    slug = models.SlugField(max_length=255)\n    # highlight-start\n    image = models.ImageField(upload_to="images/", default="images/default.png")\n    # highlight-end\n    def __str__(self):\n        return self.title\n')),(0,r.kt)("p",null,"Ard\u0131ndan ana dizine media/images klas\xf6r\xfc a\xe7arak i\xe7ine bir default.png dosyas\u0131 ekleyebiliriz. "),(0,r.kt)("p",null,"Bu k\u0131s\u0131mda terminale bakarsak Django bize Pillow mod\xfcl\xfcn\xfcn y\xfckl\xfc olmad\u0131\u011f\u0131 y\xf6n\xfcnde uyar\u0131da bulunacakt\u0131r. ",(0,r.kt)("a",{parentName:"p",href:"https://pypi.org/project/Pillow/"},"Pillow"),", Python'\u0131n g\xf6rseller \xfczerinde i\u015flemler yapmas\u0131n\u0131 sa\u011flayan k\xfctphanesidir. Normalde PIL (Python Imaging Library) k\xfct\xfcphanesinden t\xfcretilmi\u015ftir ve Django g\xf6rsellerde Pillow \xfczerinden i\u015flem yapmaktad\u0131r. Bunun i\xe7in basit bir \u015fekilde ",(0,r.kt)("inlineCode",{parentName:"p"},"pip install Pillow")," komutu ile k\xfct\xfcphanemizi kurabiliriz."),(0,r.kt)("p",null,"Sonras\u0131nda yine tek yapmam\u0131z gereken makemigrations ve migrate komutlar\u0131 ile Image alan\u0131n\u0131 veri taban\u0131na kaydetmek olacakt\u0131r."),(0,r.kt)("p",null,"\xd6n y\xfczde g\xf6stermek i\xe7in template olan html dosyam\u0131za ",(0,r.kt)("inlineCode",{parentName:"p"},'<img src="{{post.image.url}}>"')," \u015feklinde ekleme yapmam\u0131z yeterlidir. Buradaki post.image bizim g\xf6rselimizi, sonras\u0131na eklenen url ise o dizine giden yolu g\xf6sterecektir."),(0,r.kt)("p",null,"Ancak biz hala Django'ya buradaki dosyam\u0131z\u0131n nerede tutuldu\u011funu s\xf6ylemedik. Django bu klas\xf6r\xfc ana dizinde arayacakt\u0131r, ancak biz bunu media klas\xf6r\xfc i\xe7ine ekledik. Bunu kaydetmemiz i\xe7in core i\xe7indeki urls.py dosyas\u0131na dizinimizi tan\u0131tmam\u0131z gerekiyor. Buradaki komut biraz kafa kar\u0131\u015ft\u0131rabilir."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="core/urls.py" showLineNumbers',title:'"core/urls.py"',showLineNumbers:!0},"\nfrom django.contrib import admin\nfrom django.urls import path, include\n# highlight-start\nfrom django.conf.urls.static import static\nfrom django.conf import settings\n# highlight-end\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include('blog.urls'))\n]\n# highlight-start\nif settings.DEBUG:\n    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n# highlight-end\n")),(0,r.kt)("p",null,"Peki burada ne yapt\u0131k?"),(0,r.kt)("p",null,"\xdc\xe7\xfcnc\xfc ve d\xf6rd\xfcnc\xfc sat\u0131rdaki mod\xfcllerde settings, bize sistemin ayarlar\u0131n\u0131 \xe7ekmemide yard\u0131mc\u0131 oluyor. Asl\u0131nda buradaki settings, bizim core klas\xf6r\xfc i\xe7inde bulunan settings verimiz. Burada DEBUG de\u011feri prod ortam\u0131nda olmad\u0131\u011f\u0131m\u0131z i\xe7in hala True. Yani hen\xfcz geli\u015ftirme a\u015famas\u0131nday\u0131z. Geli\u015ftirme a\u015famas\u0131ndaki bir proje ile proddaki bir projenin dizinleri farkl\u0131 olaca\u011f\u0131 i\xe7in burada farkl\u0131 bir dizini medya dizini olarak kullan\u0131yoruz. Buradaki ",(0,r.kt)("inlineCode",{parentName:"p"},"MEDIA_URL")," ile ",(0,r.kt)("inlineCode",{parentName:"p"},"MEDIA_ROOT")," de\u011fi\u015fkenler settings.py i\xe7inde tan\u0131ml\u0131 olmad\u0131\u011f\u0131 i\xe7in bunlar\u0131 da tan\u0131mlayaca\u011f\u0131z. Buradan core i\xe7indeki settings.py i\xe7ine gidiyoruz ve medya olarak hangi klas\xf6r\xfcm\xfcz\xfcn referans al\u0131naca\u011f\u0131n\u0131 g\xf6steriyoruz."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="core/settings.py"',title:'"core/settings.py"'},'\nMEDIA_URL = "media/"\nMEDIA_ROOT = BASE_DIR / "media"\n\n')),(0,r.kt)("p",null,"Burada ",(0,r.kt)("inlineCode",{parentName:"p"},"MEDIA_ROOT")," ",(0,r.kt)("a",{parentName:"p",href:"https://docs.djangoproject.com/en/4.0/ref/settings/#media-root"},"Django'nun sitesinde de belirtildi\u011fi gibi")," absolute bir path ister. Yani dosyan\u0131n bulundu\u011fu yeri de\u011fil, o klas\xf6r\xfcn diskteki mutlak konumunu ister. \xd6rne\u011fin siz bir linux ortam\u0131nda geli\u015ftirme yap\u0131yorsan\u0131z dizinin ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/www/example.com/media")," \u015feklinde gelmesi gerekir. Django bu k\u0131s\u0131mda mutlak konumun ilk kademesini ",(0,r.kt)("inlineCode",{parentName:"p"},"BASE_DIR")," i\xe7inde tuttu\u011fu i\xe7in bunu kullanarak media klas\xf6r\xfcne daha kolay eri\u015febiliriz. ",(0,r.kt)("inlineCode",{parentName:"p"},"MEDIA_URL")," ise bizim MEDIA_ROOT i\xe7inden gelen dizini i\u015flememizi sa\u011flayan de\u011fi\u015fkendir. Bunu kullanarak sistemin do\u011fru adresten do\u011fru dosyay\u0131 \xe7ekmesini sa\u011flar\u0131z."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Model i\xe7indeki her de\u011fi\u015fiklik ",(0,r.kt)("inlineCode",{parentName:"p"},"makemigrations")," ile veri taban\u0131nda g\xfcncellemeleri yapar. Ancak bu k\u0131s\u0131mda default k\u0131sm\u0131 g\xfcncellenmeyebilir. Bu k\u0131s\u0131mda migration esnas\u0131nda en son do\u011fru \xe7al\u0131\u015fan migrasyona geri d\xf6n\xfcp d\xfczenlemeleri yeniden yapmak en uygunudur.")))}u.isMDXComponent=!0}}]);