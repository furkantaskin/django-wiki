"use strict";(self.webpackChunkdjango_wiki=self.webpackChunkdjango_wiki||[]).push([[9010],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>c});var l=n(7294);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,l,t=function(e,a){if(null==e)return{};var n,l,t={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var s=l.createContext({}),u=function(e){var a=l.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):r(r({},a),e)),n},d=function(e){var a=u(e.components);return l.createElement(s.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return l.createElement(l.Fragment,{},a)}},p=l.forwardRef((function(e,a){var n=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(n),c=t,g=p["".concat(s,".").concat(c)]||p[c]||m[c]||i;return n?l.createElement(g,r(r({ref:a},d),{},{components:n})):l.createElement(g,r({ref:a},d))}));function c(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var i=n.length,r=new Array(i);r[0]=p;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:t,r[1]=o;for(var u=2;u<i;u++)r[u]=n[u];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5162:(e,a,n)=>{n.d(a,{Z:()=>r});var l=n(7294),t=n(6010);const i="tabItem_Ymn6";function r(e){let{children:a,hidden:n,className:r}=e;return l.createElement("div",{role:"tabpanel",className:(0,t.Z)(i,r),hidden:n},a)}},5488:(e,a,n)=>{n.d(a,{Z:()=>c});var l=n(7462),t=n(7294),i=n(6010),r=n(2389),o=n(7392),s=n(7094),u=n(2466);const d="tabList__CuJ",m="tabItem_LNqP";function p(e){var a,n;const{lazy:r,block:p,defaultValue:c,values:g,groupId:k,className:b}=e,y=t.Children.map(e.children,(e=>{if((0,t.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=g?g:y.map((e=>{let{props:{value:a,label:n,attributes:l}}=e;return{value:a,label:n,attributes:l}})),h=(0,o.l)(f,((e,a)=>e.value===a.value));if(h.length>0)throw new Error('Docusaurus error: Duplicate values "'+h.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const v=null===c?c:null!=(a=null!=c?c:null==(n=y.find((e=>e.props.default)))?void 0:n.props.value)?a:y[0].props.value;if(null!==v&&!f.some((e=>e.value===v)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+f.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:j,setTabGroupChoices:z}=(0,s.U)(),[_,C]=(0,t.useState)(v),N=[],{blockElementScrollPositionUntilNextRender:w}=(0,u.o5)();if(null!=k){const e=j[k];null!=e&&e!==_&&f.some((a=>a.value===e))&&C(e)}const T=e=>{const a=e.currentTarget,n=N.indexOf(a),l=f[n].value;l!==_&&(w(a),C(l),null!=k&&z(k,String(l)))},O=e=>{var a;let n=null;switch(e.key){case"ArrowRight":{var l;const a=N.indexOf(e.currentTarget)+1;n=null!=(l=N[a])?l:N[0];break}case"ArrowLeft":{var t;const a=N.indexOf(e.currentTarget)-1;n=null!=(t=N[a])?t:N[N.length-1];break}}null==(a=n)||a.focus()};return t.createElement("div",{className:(0,i.Z)("tabs-container",d)},t.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},b)},f.map((e=>{let{value:a,label:n,attributes:r}=e;return t.createElement("li",(0,l.Z)({role:"tab",tabIndex:_===a?0:-1,"aria-selected":_===a,key:a,ref:e=>N.push(e),onKeyDown:O,onFocus:T,onClick:T},r,{className:(0,i.Z)("tabs__item",m,null==r?void 0:r.className,{"tabs__item--active":_===a})}),null!=n?n:a)}))),r?(0,t.cloneElement)(y.filter((e=>e.props.value===_))[0],{className:"margin-top--md"}):t.createElement("div",{className:"margin-top--md"},y.map(((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==_})))))}function c(e){const a=(0,r.Z)();return t.createElement(p,(0,l.Z)({key:String(a)},e))}},4500:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>u,toc:()=>m});var l=n(7462),t=(n(7294),n(3905)),i=n(5488),r=n(5162);const o={sidebar_position:2,custom_edit_url:null,description:"Django ile modellere giri\u015f"},s="Modellere giri\u015f",u={unversionedId:"django/orm/tutorial2",id:"django/orm/tutorial2",title:"Modellere giri\u015f",description:"Django ile modellere giri\u015f",source:"@site/docs/django/orm/2-tutorial2.mdx",sourceDirName:"django/orm",slug:"/django/orm/tutorial2",permalink:"/django-wiki/docs/django/orm/tutorial2",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,custom_edit_url:null,description:"Django ile modellere giri\u015f"},sidebar:"tutorialSidebar",previous:{title:"Basit Bir Anket Projesi",permalink:"/django-wiki/docs/django/orm/tutorial1"},next:{title:"Django ile View Yap\u0131s\u0131",permalink:"/django-wiki/docs/django/orm/tutorial3"}},d={},m=[{value:"Uygulamay\u0131 Projeye Tan\u0131tma",id:"uygulamay\u0131-projeye-tan\u0131tma",level:2},{value:"Modelde default alan belirleme",id:"modelde-default-alan-belirleme",level:2},{value:"Admin kullan\u0131c\u0131s\u0131 olu\u015fturma",id:"admin-kullan\u0131c\u0131s\u0131-olu\u015fturma",level:2},{value:"Admin paneline model ba\u011flama",id:"admin-paneline-model-ba\u011flama",level:2}],p={toc:m};function c(e){let{components:a,...n}=e;return(0,t.kt)("wrapper",(0,l.Z)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"modellere-giri\u015f"},"Modellere giri\u015f"),(0,t.kt)("p",null,(0,t.kt)("a",{parentName:"p",href:"/django-wiki/docs/django/orm/tutorial1"},"\xd6nceki konumuzda")," ilk uygulamam\u0131z\u0131 ve projemizi olu\u015fturup ekrana ilk \xe7\u0131kt\u0131m\u0131z\u0131 vermi\u015ftik. S\u0131ra geldi veri taban\u0131 ile ileti\u015fime. Django burada MVC temelli yap\u0131 kulland\u0131\u011f\u0131 i\xe7in gerekli s\u0131n\u0131flar\u0131m\u0131z\u0131 olu\u015fturmam\u0131z gerekiyor. Bunu uygulamam\u0131za spesifik yapaca\u011f\u0131z. Yani polls i\xe7indeki ",(0,t.kt)("inlineCode",{parentName:"p"},"models.py")," dosyas\u0131n\u0131 d\xfczenleyece\u011fiz."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-django",metastring:'title="apps/polls/models.py"',title:'"apps/polls/models.py"'},'from django.db import models\n\n\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_data = models.DateTimeField("date published")\n\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n')),(0,t.kt)("p",null,"Burada bilmemiz gereken \u015feyler nelerdir? Django veri taban\u0131 olu\u015ftururken de\u011fi\u015fken isimlerimizi veri taban\u0131nda s\xfctun ismi olarak kullanacakt\u0131r. Tablo ad\u0131m\u0131z ise ",(0,t.kt)("inlineCode",{parentName:"p"},"polly_question")," veya ",(0,t.kt)("inlineCode",{parentName:"p"},"polls_choice")," olarak gelecektir. Burada ",(0,t.kt)("inlineCode",{parentName:"p"},"CharField")," bizden maksimum uzunluk beklemektedir. ",(0,t.kt)("inlineCode",{parentName:"p"},"ForeignKey")," ise o s\u0131n\u0131f\u0131n, ili\u015fkilendirildi\u011fi s\u0131n\u0131fa ba\u011fl\u0131 oldu\u011funu g\xf6sterir. Bir soru yoksa \u015f\u0131klar\u0131n olmas\u0131n\u0131n bir anlam\u0131 yoktur. Yani e\u011fer bir soru siliyorsan\u0131z, onunla alakal\u0131 se\xe7imleri de silmeniz gerekecektir."),(0,t.kt)("h2",{id:"uygulamay\u0131-projeye-tan\u0131tma"},"Uygulamay\u0131 Projeye Tan\u0131tma"),(0,t.kt)("p",null,"\u015eimdi bu k\u0131sm\u0131 da tamamlad\u0131ysa s\u0131ra uygulamam\u0131z\u0131 projede tan\u0131tmaya geldi. Bunun i\xe7in core i\xe7indeki settings.py dosyas\u0131na gidece\u011fiz. Burada polls i\xe7indeki ",(0,t.kt)("inlineCode",{parentName:"p"},"apps.py")," i\xe7inde ufak bir d\xfczenleme gerekecek."),(0,t.kt)(i.Z,{mdxType:"Tabs"},(0,t.kt)(r.Z,{value:"settings",label:"core/settings.py",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-django"},"\nINSTALLED_APPS = [\n    # highlight-start\n    \"apps.polls\"\n    # highlight-end\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n]\n\n"))),(0,t.kt)(r.Z,{value:"apps",label:"apps/polls/apps.py",mdxType:"TabItem"},(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-django"},"from django.apps import AppConfig\n\nclass PollsConfig(AppConfig):\n    default_auto_field = 'django.db.models.BigAutoField'\n    # highlight-start\n    name = 'apps.polls'\n    # highlight-end\n")))),(0,t.kt)("p",null,"Burada apps.py i\xe7inde normalde uygulama ad\u0131m\u0131z polls olarak geliyor. Bunu apps.polls yapmak yeterlidir (ba\u015fka \xe7\xf6z\xfcm varsa da \u015fu an i\xe7in ben bilmiyorum)."),(0,t.kt)("p",null,"Art\u0131k uygulamam\u0131z\u0131 da kaydettiysek modellerimizi migrate edebilirsiniz"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-lanugage-plain"},"py manage.py makemigrations polls\npy manage.py migrate\n\n")),(0,t.kt)("h2",{id:"modelde-default-alan-belirleme"},"Modelde default alan belirleme"),(0,t.kt)("p",null,"Burada modelimiz QuerySet i\xe7inde geldi\u011finde pek ho\u015f olmayan bir \xe7\u0131kt\u0131 verecektir. Bu \xe7\u0131kt\u0131y\u0131 g\xfczelle\u015ftirmek i\xe7in default return de\u011feri verebiliriz. Bunun i\xe7in models.py i\xe7inde yeni bir g\xfcncelleme yapaca\u011f\u0131z."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-django",metastring:'title="apps/polls/models.py"',title:'"apps/polls/models.py"'},'from django.db import models\n\n\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField("date published")\n\n    # highlight-start\n    def __str__(self):\n        return self.question_text\n    # highlight-end\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n\n    # highlight-start\n    def __str__(self):\n        return self.choice_text\n    # highlight-end\n\n')),(0,t.kt)("h2",{id:"admin-kullan\u0131c\u0131s\u0131-olu\u015fturma"},"Admin kullan\u0131c\u0131s\u0131 olu\u015fturma"),(0,t.kt)("p",null,"Art\u0131k modellerimiz belirli ancak burada daha kolay bir veri kontrol paneli olamaz m\u0131? \xd6rne\u011fin bir CMS paneli fena olmaz. \u0130\u015fte Django bu k\u0131s\u0131mda bize haz\u0131r bir admin paneli veriyor. Bu admin paneline ",(0,t.kt)("inlineCode",{parentName:"p"},"127.0.0.1:8000/admin")," ile eri\u015febiliriz. Ancak buraya giri\u015f yapabilmemiz i\xe7in bize bir admin kullan\u0131c\u0131s\u0131 laz\u0131m. Onu da \u015fu \u015fekilde olu\u015fturuyoruz"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-language-plain"},"py manage.py createsuperuser\n")),(0,t.kt)("p",null,"Burada bizden bir admin kullan\u0131c\u0131 ad\u0131, eposta ve parola isteyecektir. Parolay\u0131 iki defa girece\u011fiz \xe7\xfcnk\xfc parola \xf6nemlidir. E\u011fer bilgiler do\u011fruysa user olu\u015fturulacakt\u0131r."),(0,t.kt)("h2",{id:"admin-paneline-model-ba\u011flama"},"Admin paneline model ba\u011flama"),(0,t.kt)("p",null,"Admin paneline girdi\u011fimizde Question veya Choice alan\u0131 olmayacak. Bunlar\u0131 bizim panele kaydetmemiz gerekiyor. Bunun i\xe7in proje i\xe7indeki admin.py dosyas\u0131na gitmemiz laz\u0131m. "),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-django",metastring:'title="apps/polls/admin.py"',title:'"apps/polls/admin.py"'},"from django.contrib import admin\nfrom .models import Question, Choice\n\n# highlight-start\npollsModels = [Question, Choice]\n\nadmin.site.register(pollsModels)\n# highlight-end\n")))}c.isMDXComponent=!0}}]);